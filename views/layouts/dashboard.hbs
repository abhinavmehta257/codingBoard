<!DOCTYPE HTML>
<html>
    <head>
        <title>Coding Boards</title>
<script type="text/javascript">!function(e,t,n){function a(){var e=t.getElementsByTagName("script")[0],n=t.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://beacon-v2.helpscout.net",e.parentNode.insertBefore(n,e)}if(e.Beacon=n=function(t,n,a){e.Beacon.readyQueue.push({method:t,options:n,data:a})},n.readyQueue=[],"complete"===t.readyState)return a();e.attachEvent?e.attachEvent("onload",a):e.addEventListener("load",a,!1)}(window,document,window.Beacon||function(){});
</script><script type="text/javascript">window.Beacon('init', '23a2a943-89cc-4098-9d88-bd842d33ba38')</script>
        <style>
           body{
               margin: 0;
               height: 100vh;
           }
            nav{
                color: white;
                background-color: #06294b !important;
                font-size: 34px !important;
            }
            nav a, nav a:link, nav a:visited, nav a:active, nav a:hover{
                color: white;
            }
            .controls{
                height: 92.5vh;
                background-color: #cfcfcf;
                width: 200px;
                display: inline-table;
                margin-right: 0;
            }
            .controls .header{
                padding: 5px 20px;

            }
            .controls .button{
                padding: 5px  0 5px 42px;
                cursor: pointer;
            }
            .controls .button:hover{
                background: #a3a2a2;
            }
            .focused{
                background: white ;
            }
            .fas{
                padding-right: 5px;
            }
            .upcomming-classes td,th{
                padding: 10px;
                width: 200px;
                padding: 5px 20px;
            }
            td,th{
                padding: 10px 5px;
                width: 200px;
            }
            .upcomming-classes tr:nth-child(odd) { 
                background-color: #cfcfcf; 
            }
            th{
                border-bottom: solid #a3a2a2;
                text-align: center;
            } 
            
            .schedule-form input, select{
                background-color: transparent;
                color: #504e4e;
                outline: none;
                outline-style: none;
                border-top: none;
                border-left: none;
                border-right: none;
                border-bottom: solid #504e4e 1px;
                padding: 3px 10px;
                width: 200px;
            }
            .schedule-form button{
                border: none;
                padding: 10px;
                color: white;
                background: #06294b;
            }
             a,  a:link,  a:visited,  a:active,  a:hover{
                 color: rgb(0, 0, 0);
                text-decoration: none;
            }
            .startBtn{
                color: white !important;
                background: #4696e5;
                padding: 2px 15px;
                border-radius: 5px;
            }
            
            .success-schedule a{
                color: white;
                background-color: #06294b;
                padding: 5px;
            }
            #error{
                color: red;
            }
            #payBtn{
                border: none;
            }
            #logout-btn{
                color: white;
                background-color:  #eb2e4d;
                border-radius: 5px;
                border-style: none;
                font-size: 18px;
                padding: 0 10px;
            }
            #logout-btn:hover{
                background-color:#ec8395;
            }
            
        </style>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script src="https://js.stripe.com/v3/"></script>
        		<link rel="shortcut icon" href="./cb.ico" type="image/x-icon">

        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    </head>
    <body>
        <nav class="navbar  " >
            <a class="navbar-brand" href="/">
              Coding <span>Boards</span>
            </a>
            <a href="/logout" id="logout-btn"> Logout </a>
        </nav>
        <div class="row m-0">
            <div class="controls col-3 p-0">
                <a href="/dashboard"><div class="header button {{#if dashboard}} focused {{/if}} "><i class="fas fa-tachometer-alt"></i>Dashboard</div></a>
                <div class="my-classes" style="padding: 5px 20px;"><i class="fas fa-chalkboard-teacher"></i>My classes</div>
                <a href="/dashboard/upcomming"><div class="upcomming-classes button {{#if upcomming}} focused {{/if}} ">Upcomming classes</div></a>
                <a href="/dashboard/schedule"><div class="schedule button {{#if schedule}} focused {{/if}}">Schedule new class</div></a>
            <div style="position: fixed;z-index:1; bottom:0px; color:white; background:#e03c30; width:100%">
               {{#if trial_left }} <p style="margin:0; padding:10px">Only {{trial_left}} Days left for your trial to end. <button id="payBtn" style="color: black; border-radius:5px"> Upgrade now</button> !!ðŸŽ‰</p> {{/if}}
            </div>
            </div>
            <div class="col-9 p-4">
                    {{{body}}}            
            </div>
        </div>
        <script>
        var stripe = Stripe('pk_live_51HmGACF40RZizFmFJLdYhPeRK5uiUAdZyKzaqak7r9HNzssOBV059mG8kXb0EW1azyX2nny9Qgpqpd3c9POtqQvF00Lhv7JdT7');
        var payBnt = document.getElementById('payBtn');
        payBnt.addEventListener('click', function(){
            fetch('/payment/create-checkout-session',{
                method:'post',
                headers:{
                    'Content-Type': 'application/json'
                },
            })
            .then((response)=>response.json())
            .then((session)=>{
                console.log(session);
                stripe.redirectToCheckout({sessionId : session.id});
            })
            .then((data)=>{
                console.log('Sucess: ',data);
            })
            .catch((err)=>{console.log('Error: ', err);});
        });
    </script>
    
    </body>
</html>